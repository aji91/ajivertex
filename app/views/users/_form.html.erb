<div class="dbmnContainer">
  <a class="btn bckBtn" href="<%= users_path %>"><img src="/assets/backIcon.svg" alt="">Back</a>
  <div class="pgHdWrpr">
    <h2 class="pgHdr">Add User</h2>
  </div>
  <div class="formWrapper">
    <%= form_for(@user, url: @user.new_record? ? users_path : user_path(@user), html: { "data-parsley-validate" => true, id: 'user-form', multipart: true }) do |f| %>
      <div class="frmHdr">Personal Details</div>
      <div class="row">
        <div class="col-12">
          <div class="inptWrpr">
            <label class="cstmLbl">Full Name</label>
            <%= f.text_field :name, placeholder: "Full Name", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter full name." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">User Name</label>
            <%= f.text_field :username, placeholder: "User Name", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter user name." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Email</label>
            <%= f.text_field :email, placeholder: "Email", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter email." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Employee Code</label>
            <%= f.text_field :employee_code, placeholder: "Employee Code", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter employee code." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Mobile Number</label>
            <%= f.text_field :mobile, placeholder: "Mobile Number", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter mobile." %>
          </div>
        </div>
      </div>
      <div class="frmHdr mt-4">Company Details</div>
      <div class="row">
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Department</label>
            <%= f.select :department_id, options_for_select(Department.all.map { |p| [p.name, p.id] }, @user.department_id),{ include_blank: 'Select Department' }, class: 'form-control', 'data-parsley-required' => "true", 'data-parsley-required-message' => "Please select department." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Branch</label>
            <%= f.select :branch_id, options_for_select(Branch.all.map { |p| [p.name, p.id] }, @user.branch_id),{ include_blank: 'Select Branch' }, class: 'form-control', 'data-parsley-required' => "true", 'data-parsley-required-message' => "Please select branch." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Role</label>
            <%= f.select :role_id, options_for_select(Role.all.map { |p| [p.name, p.id] }, @user.role_id),{ include_blank: 'Select Role' }, class: 'form-control', 'data-parsley-required' => "true", 'data-parsley-required-message' => "Please select role." %>
          </div>
        </div>
      </div>
      <div class="frmHdr mt-4">Bank Details</div>
      <div class="row">
        <div class="col-12">
          <div class="inptWrpr">
            <label class="cstmLbl">Account Number</label>
            <%= f.text_field :account_no, placeholder: "Account Number", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter account number.", class: "number-only" %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Bank Name</label>
            <%= f.text_field :bank_name, placeholder: "Bank Name", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter bank name." %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">IFSC Code</label>
            <%= f.text_field :ifsc_no, placeholder: "IFSC Code", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter IFSC code." %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-6">
          <div class="frmHdr mt-4">Aadhar Details</div>
          <div class="inptWrpr">
            <label class="cstmLbl">Aadhar Number</label>
            <%= f.text_field :aadhar_no, placeholder: "Aadhar Number", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter aadhar number.", class: "number-only" %>
          </div>
          <div class="inptWrpr">
            <label for="">Aadhar Front and Back Image</label>
            <div class="upldWrpr">
              <input type="file" name="user[aadhar_file]">
              <img src="/assets/upload_image.svg" alt="">
              <p class="m-0 mt-2">Click here to upload</p>
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="frmHdr mt-4">Pan Details</div>
          <div class="inptWrpr">
            <label class="cstmLbl">Pan Number</label>
            <%= f.text_field :pan_no, placeholder: "Pan Number", "data-parsley-required" => "true", "data-parsley-required-message" => "Please enter pan number." %>
          </div>
          <div class="inptWrpr">
            <label for="">Pan Card Image</label>
            <div class="upldWrpr">
              <input type="file" name="user[pan_file]">
              <img src="/assets/upload_image.svg" alt="">
              <p class="m-0 mt-2">Click here to upload</p>
            </div>
          </div>
        </div>
      </div>
      <% if @user.new_record? %>
      <div class="frmHdr mt-4">Password Details</div>
      <div class="row">
        <!-- <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Current Password</label>
            <%#= f.password_field :current_password, class: '', placeholder: "Enter current Password", "data-parsley-required" => true, "data-parsley-required-message" => "Please enter your password", "data-parsley-minlength" => "8", "data-parsley-minlength-message" => "Passwords should be at least 8 characters"  %>
          </div>
        </div> -->
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">New Password</label>
            <%= f.password_field :password, class: 'new_password', placeholder: "Enter new Password", placeholder: "Password", "data-parsley-required" => "true", autocomplete: "off", "data-parsley-required-message" => "Please enter your password", "data-parsley-minlength" => "8", "data-parsley-minlength-message" => "Passwords should be at least 8 characters" %>
          </div>
        </div>
        <div class="col-6">
          <div class="inptWrpr">
            <label class="cstmLbl">Confirm Password</label>
            <%= f.password_field :password_confirmation, class: "", placeholder: "Confirm Password", "data-parsley-required" => true, "data-parsley-equalto" =>".new_password", "data-parsley-equalto-message" => "Confirm password should be same as new password", "data-parsley-required-message" => "Please enter your confirm password" %>
          </div>
        </div>
      </div>
      <% end %>
      <div class="fmBtnWrpr">
        <button class="btn primButton form-submit">Submit</button>
        <a class="btn outlButton" href="<%= users_path %>" style="width: 150px;">Cancel</a>
      </div>
    <% end %>
  </div>
</div>